<div class="bmi-calculator">
    <div class="container">
        <div class="card w-75">
            <div class="card-header">
                <h3>BMI Calculator</h3>
            </div>
            <div class="card-body">
                <form id="bmi-calculator-form" #bmiCalculatorForm="ngForm">
                    <div class="row py-2">
                        <label for="age" class="col-sm-2 col-form-label">Age</label>
                        <div class="col-sm-10">
                            <input type="number" class="form-control" id="age" name="age" placeholder="Age" [(ngModel)]="bmiData.age" required #age="ngModel" min="2" max="120">
                            <div *ngIf="bmiCalculatorForm.submitted || age.touched">
                                <div *ngIf="age.errors?.['required']" class="text-danger">
                                    Age is required.
                                </div>
                                <div *ngIf="age.errors?.['min']" class="text-danger">
                                    Age must be greater than 2.
                                </div>
                                <div *ngIf="age.errors?.['max']" class="text-danger">
                                    Age must be less than 120.
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="py-2">
                            <div class="form-outline ">
                                <div class="d-md-flex justify-content-start align-items-center mb-2 ">
                                    <label class="col-sm-6 mb-0 ">Gender </label>
                                    <div class="col-sm-10" style="padding-left: 0px;">
                                        <div class="form-check form-check-inline mb-0 me-4 ">
                                            <input class="form-check-input " type="radio" [(ngModel)]="bmiData.gender" name="gender " id="femaleGender " value="female" required #gender="ngModel" />
                                            <label class="form-check-label " for="femaleGender ">Female</label>
                                        </div>

                                        <div class="form-check form-check-inline mb-0 me-4 ">
                                            <input class="form-check-input " type="radio" [(ngModel)]="bmiData.gender" name="gender " id="maleGender " value="male" required #gender="ngModel" />
                                            <label class="form-check-label " for="maleGender ">Male</label>
                                        </div>

                                        <div class="form-check form-check-inline mb-0 ">
                                            <input class="form-check-input " type="radio" [(ngModel)]="bmiData.gender" name="gender " id="otherGender " value="other" required #gender="ngModel" />
                                            <label class="form-check-label " for="otherGender ">Other</label>
                                        </div>
                                        <div *ngIf="bmiCalculatorForm.submitted || gender.touched">
                                            <div *ngIf="gender.errors?.['required']" class="text-danger">
                                                Gender is required.
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row py-2">
                        <label for="height " class="col-sm-2 col-form-label ">Height</label>
                        <div class="col-sm-10 ">
                            <input type="number" class="form-control " [(ngModel)]="bmiData.height" id="height " name="height " placeholder="Height" required #height="ngModel">
                            <div *ngIf="bmiCalculatorForm.submitted || height.touched">
                                <div *ngIf="height.errors?.['required']" class="text-danger">
                                    Height is required.
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row py-2">
                        <label for="weight" class="col-sm-2 col-form-label ">Weight</label>
                        <div class="col-sm-10 ">
                            <input type="number " class="form-control " [(ngModel)]="bmiData.weight" id="weight " name="weight " placeholder="Weight" required #weight="ngModel">
                            <div *ngIf="bmiCalculatorForm.submitted || weight.touched">
                                <div *ngIf="weight.errors?.['required']" class="text-danger">
                                    Weight is required.
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row ">
                        <div class="col text-center ">
                            <button type="submit" id="btn-calculate " class="btn btn-primary " (click)="calculateBMI() ">Calculate</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>

        <div class="card w-75 bmi-result" *ngIf="bmiData.is_calculated">
            <div class="card-body">
                <div class="row">
                    <h3 class="col-md-8">BMI = {{bmiData.bmiResult.bmi_value}} kg/m2 </h3>
                    <h3 class="col-md-4 text-{{bmiData.bmiResult.bmi_status}} ">{{bmiData.bmiResult.bmi_category}}</h3>
                </div>
                <div class="instructions">
                    <h5>Instructions</h5>
                    <div class="instruction-result">
                        <div *ngIf="bmiData.age >2 && bmiData.age<20; else elseBlock">
                            <li>
                                <label *ngIf="bmiData.gender =='female'; else elseBlock2">Healthy BMI range : 14.2 - 18.2 kg/m2</label>
                                <ng-template #elseBlock2>
                                    <label>Healthy BMI range : 14.8 - 19.2 kg/m2</label>
                                </ng-template>
                            </li>
                        </div>
                        <ng-template #elseBlock>
                            <li>
                                <label>Healthy BMI range : 18.5 kg/m2 - 25 kg/m2</label>
                            </li>
                            <!-- <li>
                                <label>Healthy weight for the height : {{bmiResult.normal_min_weight}} kgs - {{bmiResult.normal_max_weight}} kgs</label>
                            </li> -->
                        </ng-template>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-8"></div>
                    <h5 class="col-md-4" (click)="getRecipesByBMI()">Get Recipies</h5>
                </div>
            </div>
        </div>
    </div>
</div>